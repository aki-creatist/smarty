# 条件分岐

## 概要

* ２つのデータを比較するには、選択構造を使う
    * 条件によってプログラムの流れを変える
        * 条件なく上から実行するだけでは一通りの要件にしか対応できない
        * 柔軟性を持たせることができる
    * フローチャートで表現可能
* キーワードは主に以下を利用する
    * `if…else`
    * `if…elseif…else`
* 条件式では関係演算子を使う

## フローチャート

* フローチャートとは、一連の処理を開始から終了までの流れを記述したもの
    * 記述することで処理の流れが具体的にし、何を実装すべきかを表現する
    * 処理の細分化ができる
    * 細分化した処理を共通化することはできない

## フローチャートを利用してみる

* 目的：２つのデータの大きさを比較する
* 手順：
    * 実数型変数を２つ用意して、それぞれのデータを入力
        * 変数名は `a` と `b`
    * データを比較する処理を考察
        * aがbより大きい場合は、`a` を出力
        * そうでない場合は `b` を出力

## 条件式では関係演算子を使う

### 厳密な比較と曖昧な比較

ここでは以下のように定義する

* 厳密な比較とは
    * 型も含めて比較をする
* 曖昧な比較とは
    * 型は考慮しない

例：`int`の10と、`string`の10を比較する

```php
$x = 10;
if ($x === 10) echo "10"; // 出力されない
```

### 0 の扱い

数字の`0`は(文字列であっても)""(空)ではないと判定される

```php
$id = 0;
if ($id === "") echo "empty"; // 表示されない (空ではない)

$a = "0";
if ($a !== '') echo "値が入っています。"; // 出力される
```

### Empty (注意)

`empty`を利用した比較では
`0`は(文字列型であっても)`空である`と判定される

```php
$a = "0";
if (empty($a) === true) echo "空です"; // 出力される
```

その他、以下のものは`empty`による判定では`TRUE`を返す


* `""` (空文字列)
* `0` (整数 の 0)
* `0.0` (浮動小数点数の 0)
* `"0"` (文字列 の 0)
* `NULL`
* `FALSE`
* `array()` (空の配列)
* `$var;` (変数が宣言されているが、値が設定されていない)

### IDとパスワードを入力してログインした時の処理

* 実際のログイン処理では、変数にフォームから送られてきた値を代入
    * ここではあらかじめ値を代入しておく
        * 投稿されたユーザネームとパスワードと仮定する
* データベースから取得したデータを格納しておく
* `==`を利用して等しいかどうか判定

```php
$name = "user"; // 投稿されたユーザネーム

$db_data["name"] = "user"; // DBに格納されているユーザネーム

if ($db_data["name"] == $name) { // 投稿された値とDBの値が一致したら
	echo "会員ページです。"; // 出力される
}
```

例：ログイン2
* `&&` を使って、二つの条件式を組み合わせる
    * 条件式全体の意味は`ユーザーネームとパスワードが等しい場合`となる
    * 共にTRUEの場合
        * ブロックの内部の処理が実行される
    * どちらか一方でもFALSEの場合
        * 処理が実行されない

```php
$name = "user"; // ユーザネーム
$pass = "pass"; // パスワード

$db_data["name"] = "user";
$db_data["pass"] = "pass";

if ($db_data["name"] == $name && $db_data["pass"] == $pass) {
	// 会員ページの表示
	echo "会員ページです。";
}
```

### データを比較する関係演算子

２つのデータを比較するのに使う記号を、関係演算子、または比較演算子という

<table>
    <tr>
        <th scope="col">演算子</th>
        <th scope="col">意味</th>
        <th scope="col">例</th>
    </tr>
    <tr>
        <td> > </td>
        <td>より小さい</td>
        <td>a<10</td>
    </tr>
    <tr>
        <td> < </td>
        <td>より大きい</td>
        <td>a>10</td>
    </tr>
    <tr>
        <td> <= </td>
        <td>以下</td>
        <td>a<=10</td>
    </tr>
    <tr>
        <td> =< </td>
        <td>以上</td>
        <td> a ==< 10 </td>
    </tr>
    <tr>
        <td> == </td>
        <td>等しい</td>
        <td>a == 10</td>
    </tr>
    <tr>
        <td> != </td>
        <td>等しくない</td>
        <td>a != 10</td>
    </tr>
    <tr>
        <td> === </td>
        <td>データの型も含めて等しい</td>
        <td> === 10</td>
    </tr>
    <tr>
        <td> !== </td>
        <td>データの方も含めて等しくない</td>
        <td> a !== 10 </td>
    </tr>
</table>